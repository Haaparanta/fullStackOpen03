{"version":3,"sources":["components/Communicate.js","components/Persons.js","components/Filters.js","components/PersonsList.js","App.js","index.js"],"names":["url","axios","get","then","response","data","newObject","post","id","delete","Persons","filterPerson","setPersons","map","object","name","number","onClick","person","window","confirm","comms","filter","item","Filters","onChange","value","PersonList","persons","useState","newName","setNewName","newNumber","setNewNumber","onSubmit","event","preventDefault","personsArray","personObject","includes","alert","concat","target","type","App","useEffect","initialPersons","setFilter","filterPersons","setFilterPersons","e","toLowerCase","indexOf","ReactDOM","render","document","getElementById"],"mappings":"6KACMA,EAAM,cAiBG,EAfA,WAEX,OADgBC,IAAMC,IAAIF,GACXG,MAAK,SAAAC,GAAQ,OAAIA,EAASC,SAa9B,EAVA,SAAAC,GAEX,OADgBL,IAAMM,KAAKP,EAAKM,GACjBH,MAAK,SAAAC,GAAQ,OAAIA,EAASC,SAQ9B,EALM,SAACG,GAElB,OADgBP,IAAMQ,OAAOT,EAAM,IAAMQ,GAC1BL,MAAK,SAAAC,GAAQ,OAAIA,EAASC,S,OCa9BK,EAzBC,SAAC,GAAkC,IAAhCC,EAA+B,EAA/BA,aAAcC,EAAiB,EAAjBA,WAW7B,OACID,EAAaE,KAAI,SAACC,GAAD,OACb,8BACKA,EAAOC,KACP,IACAD,EAAOE,OACP,IACD,wBAAQC,QAAS,kBAhBXC,EAgB0BJ,OAfzBK,OAAOC,QAAQ,UAAYF,EAAOH,QAE7CM,EACkBH,EAAOV,IACzBI,EAAWD,EAAaW,QAAO,SAAAC,GAAI,OAAIA,IAASL,QALvC,IAACA,GAgBN,2BCVDM,EARC,SAAC,GAAyB,IAAvBC,EAAsB,EAAtBA,SAAUC,EAAY,EAAZA,MACzB,OACI,qDACsB,uBAAOD,SAAUA,EAAUC,MAAOA,QC8CjDC,EAjDI,SAAC,GAA6B,IAA3BC,EAA0B,EAA1BA,QAAShB,EAAiB,EAAjBA,WAC3B,EAA8BiB,mBAAS,IAAvC,mBAAOC,EAAP,KAAgBC,EAAhB,KACA,EAAkCF,mBAAS,IAA3C,mBAAOG,EAAP,KAAkBC,EAAlB,KA4BA,OACI,uBAAMC,SA3BQ,SAACC,GACfA,EAAMC,iBACN,IAAMC,EAAeT,EAAQf,KAAI,SAAAC,GAAM,OAAIA,EAAOC,QAE5CuB,EAAe,CACjBvB,KAAMe,EACNd,OAAQgB,GAGRK,EAAaE,SAAb,UAAyBD,EAAavB,OACtCyB,MAAM,GAAD,OAAIV,EAAJ,mCAELT,EACY,gCAAiCiB,GACxCnC,MAAK,SAAAC,GAAQ,OAAIQ,EAAWgB,EAAQa,OAAOrC,EAASC,UAI7D0B,EAAW,IACXE,EAAa,KAQb,UACI,yCACU,uBACFP,MAAOI,EACPL,SATS,SAACU,GAAD,OAAWJ,EAAWI,EAAMO,OAAOhB,UAU9C,uBAJN,WAKY,uBACJA,MAAOM,EACPP,SAXW,SAACU,GAAD,OAAWF,EAAaE,EAAMO,OAAOhB,aAcxD,8BACI,wBAAQiB,KAAK,SAAb,uBCHDC,EApCH,WACV,MAA8Bf,mBAAS,IAAvC,mBAAOD,EAAP,KAAgBhB,EAAhB,KAEAiC,qBAAU,WACRxB,IAEGlB,MAAK,SAAA2C,GACJlC,EAAWkC,QAEd,IAEH,MAA4BjB,mBAAS,IAArC,mBAAOP,EAAP,KAAeyB,EAAf,KACA,EAA0ClB,mBAASD,GAAnD,mBAAOoB,EAAP,KAAsBC,EAAtB,KAQA,OACE,gCACE,2CACA,cAAC,EAAD,CAASxB,SATc,SAACyB,GAC1BH,EAAUG,EAAER,OAAOhB,OACnBuB,EAAiBrB,EAAQN,QAAO,SAACJ,GAAD,OACwC,IAArEA,EAAOH,KAAKoC,cAAcC,QAAQF,EAAER,OAAOhB,MAAMyB,oBAMXzB,MAAOJ,IAC9C,2CACA,cAAC,EAAD,CAAYM,QAASA,EAAShB,WAAYA,IAC1C,yCACY,KAAXU,EACC,cAAC,EAAD,CAASX,aAAciB,EAAShB,WAAYA,IAE5C,cAAC,EAAD,CAASD,aAAcqC,EAAepC,WAAYA,QClC1DyC,IAASC,OACP,cAAC,EAAD,IACAC,SAASC,eAAe,W","file":"static/js/main.65c0004c.chunk.js","sourcesContent":["import axios from 'axios'\nconst url = 'api/persons'\n\nconst getAll = () => {\n    const request = axios.get(url)\n    return request.then(response => response.data)\n}\n\nconst create = newObject => {\n    const request = axios.post(url, newObject)\n    return request.then(response => response.data)\n}\n\nconst deletePerson = (id) => {\n    const request = axios.delete(url + '/' + id)\n    return request.then(response => response.data)\n}\n\nexport default {\n    getAll,\n    create,\n    deletePerson\n} ","import React from 'react'\nimport comms from './Communicate.js'\n\nconst Persons = ({ filterPerson, setPersons }) => {\n\n    const isDelete = (person) => {\n        const result = window.confirm('Delete ' + person.name)\n        if (result) {\n            comms\n                .deletePerson(person.id)\n            setPersons(filterPerson.filter(item => item !== person))\n        }\n    }\n\n    return (\n        filterPerson.map((object) =>\n            <p>\n                {object.name}\n                {\" \"}\n                {object.number}\n                {\" \"}\n                <button onClick={() => isDelete(object)}>Delete</button>\n            </p>\n        )\n    )\n}\n\n\nexport default Persons","import React from 'react'\n\n\nconst Filters = ({ onChange, value }) => {\n    return (\n        <div>\n            Filter shown with <input onChange={onChange} value={value}></input>\n        </div>\n    )\n}\n\nexport default Filters","import React, { useState } from 'react'\nimport comms from './Communicate.js'\n\nconst PersonList = ({ persons, setPersons }) => {\n    const [newName, setNewName] = useState('')\n    const [newNumber, setNewNumber] = useState('')\n\n    const addPerson = (event) => {\n        event.preventDefault()\n        const personsArray = persons.map(object => object.name)\n\n        const personObject = {\n            name: newName,\n            number: newNumber\n        }\n\n        if (personsArray.includes(`${personObject.name}`)) {\n            alert(`${newName} is already added to phonebook`)\n        } else {\n            comms\n                .create('http://localhost:3001/persons', personObject)\n                .then(response => setPersons(persons.concat(response.data)))\n        }\n\n\n        setNewName('')\n        setNewNumber('')\n    }\n\n    const handleNameChange = (event) => setNewName(event.target.value)\n\n    const handleNumberChange = (event) => setNewNumber(event.target.value)\n\n    return (\n        <form onSubmit={addPerson}>\n            <div>\n                name: <input\n                    value={newName}\n                    onChange={handleNameChange}\n                /><br />\n                number: <input\n                    value={newNumber}\n                    onChange={handleNumberChange}\n                />\n            </div>\n            <div>\n                <button type=\"submit\">add</button>\n            </div>\n        </form>\n    )\n}\n\nexport default PersonList","import React, { useState, useEffect } from 'react'\nimport Persons from './components/Persons.js'\nimport Filters from './components/Filters.js'\nimport PersonList from './components/PersonsList.js'\nimport comms from './components/Communicate.js'\n\n\nconst App = () => {\n  const [persons, setPersons] = useState([])\n\n  useEffect(() => {\n    comms\n      .getAll()\n      .then(initialPersons => {\n        setPersons(initialPersons)\n      })\n  }, [])\n\n  const [filter, setFilter] = useState('')\n  const [filterPersons, setFilterPersons] = useState(persons) \n\n  const handleFilterChange = (e) => { \n    setFilter(e.target.value)\n    setFilterPersons(persons.filter((person) =>\n      (person.name.toLowerCase().indexOf(e.target.value.toLowerCase()) !== -1))) \n  }\n\n  return (\n    <div>\n      <h2>Phonebook</h2> \n      <Filters onChange={handleFilterChange} value={filter} /> \n      <h2>add a new</h2>\n      <PersonList persons={persons} setPersons={setPersons} />\n      <h2>Numbers</h2>\n      {filter === '' ?\n        <Persons filterPerson={persons} setPersons={setPersons} />\n        :\n        <Persons filterPerson={filterPersons} setPersons={setPersons} />\n      }\n    </div>\n  )\n}\n\nexport default App","import ReactDOM from 'react-dom'\nimport App from './App'\n\nReactDOM.render(\n  <App />, \n  document.getElementById('root')\n)"],"sourceRoot":""}